<h1>Edit payment mode</h1>
<div class="card col-md-4">
    <div class="card-header">{{std.surname}} {{std.otherNames ? '' : std.otherNames}}</div>
    <div class="card-body">
        <div class="card-text">ID: {{std.uniqueID}}</div>
        <div class="card-text">Level: {{std.level}}</div>
        <div class="card-text">Gender: {{std.gender}}</div>
    </div>
</div>
<form [formGroup]="bForm" (submit)="edit(bForm.value)">
    <fieldset>
        <legend class="text-center">Enter GCR and amount</legend>
        <!-- GCR -->
        <div class="form-group form-row">
            <label class="col-md-2 col-bForm-label" for="gcr" aria-label="GCR">GCR</label>
            <div class="col-md-6" aria-labelledby="gcr" [ngClass]="bForm.controls.gcr?.errors ? 'has-error' : 'has-success'">
                <input type="text"
                       class="form-control"
                       id="gcr"
                       title="GCR issued for this payment"
                       formControlName="gcr"
                       placeholder="GCR number">
            </div>
            <span [ngClass]="bForm.controls.gcr.errors?.maxlength ? 'text-danger' : ''" *ngIf="bForm.controls.gcr.errors?.maxlength">The maximum length is {{bForm.controls.gcr.errors.maxlength.requiredLength}} characters: Current is {{bForm.controls.gcr.errors.maxlength.actualLength}}</span>
            <span [ngClass]="bForm.controls.gcr.errors?.required ? 'text-danger' : ''" *ngIf="bForm.controls.gcr.errors?.required">Add a GCR</span>
            <span [ngClass]="bForm.controls.gcr.errors?.minlength ? 'text-danger' : ''" *ngIf="bForm.controls.gcr.errors?.minlength">The minimum length is {{bForm.controls.gcr.errors.minlength.requiredLength}} characters: Current is {{bForm.controls.gcr.errors.minlength.actualLength}}</span>
        </div>

        <!-- Amount -->
        <div class="form-group form-row">
            <label class="col-md-2 col-bForm-label" for="amount" aria-label="amount paid by the student">Amount</label>
            <div class="col-md-6" aria-labelledby="amount" [ngClass]="bForm.controls.amount?.errors ? 'has-error' : 'has-success'">
                <input type="number"
                       class="form-control"
                       id="amount"
                       title="Amount paid by the student"
                       formControlName="amount"
                       placeholder="Amount paid">
            </div>
            <span [ngClass]="bForm.controls.amount.errors?.max ? 'text-danger' : ''" *ngIf="bForm.controls.amount.errors?.max">The maximum  {{bForm.controls.amount.errors.max.max}}</span>
            <span [ngClass]="bForm.controls.amount.errors?.required ? 'text-danger' : ''" *ngIf="bForm.controls.amount.errors?.required">Add the amount</span>
            <span [ngClass]="bForm.controls.amount.errors?.min ? 'text-danger' : ''" *ngIf="bForm.controls.amount.errors?.min">The minimum is {{bForm.controls.amount.errors.min.min}}</span>
        </div>

        <!-- Date paid -->
        <div class="form-group form-row">
            <label class="col-md-2 col-bForm-label" for="datePaid" aria-label="datePaid paid">Amount</label>
            <div class="col-md-6" aria-labelledby="datePaid" [ngClass]="bForm.controls.datePaid?.errors ? 'has-error' : 'has-success'">
                <input type="date"
                       class="form-control"
                       id="datePaid"
                       title="Payment date"
                       formControlName="datePaid"
                       placeholder="date paid">
            </div>
            <span [ngClass]="bForm.controls.datePaid.errors?.max ? 'text-danger' : ''" *ngIf="bForm.controls.datePaid.errors?.max">The maximum  {{bForm.controls.datePaid.errors.max.max}}</span>
            <span [ngClass]="bForm.controls.datePaid.errors?.required ? 'text-danger' : ''" *ngIf="bForm.controls.datePaid.errors?.required">Add the date paid</span>
            <span [ngClass]="bForm.controls.datePaid.errors?.min ? 'text-danger' : ''" *ngIf="bForm.controls.datePaid.errors?.min">The minimum is {{bForm.controls.datePaid.errors.min.min}}</span>
        </div>
    </fieldset>
    <div class="offset-md-2"> <button class="btn" [ngClass]="bForm.valid ? 'btn-success' : 'btn-danger'" [disabled]="bForm.invalid">Receive</button></div>
</form>